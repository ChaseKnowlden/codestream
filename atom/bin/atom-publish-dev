#!/bin/bash

#desc# push a dev 'artifact' build. just updates the develop branch of the public repo

echo "==== copy files into develop branch of public repo ===="
cd ..
git clone --depth 1 -b develop https://github.com/teamcodestream/atom-client
cd atom-client
rm -rf *
cp -rf ../atom-codestream/dist .
cp -rf ../atom-codestream/styles .
cp -rf ../atom-codestream/keymaps .
cp -rf ../atom-codestream/menus .
cp ../atom-codestream/package.json .
cp ../atom-codestream/README.md .
cp ../atom-codestream/CHANGELOG.md .
../atom-codestream/bin/clean-metadata.js package.json

git add .
git commit -m "dev build"
git push

echo "==== clean up ===="
cd ..
rm -rf atom-client
